/* 
 * List Styles
 * Unified styling for all list types in legal documents
 * 
 * This is the SINGLE SOURCE OF TRUTH for list styling.
 * All list-related CSS should be here, not scattered across files.
 */

/* ========================================
 * STANDARD ORDERED LISTS
 * Regular numbered lists: 1., 2., 3.
 * ======================================== */

/* Make standard ordered list markers blue */
ol li::marker {
    color: var(--color-primary, #0969da);
}

/* ========================================
 * MANUAL NOTATION LISTS
 * Lists with (a), (b) or (1), (2) notation
 * ======================================== */

/* Hide bullets for lists with manual notation */
.alpha-list,
.numeric-list,
.roman-list {
    list-style: none;
    list-style-type: none;
    padding-left: 2em;
}

/* Ensure list items have proper spacing, no bullets, and hanging indent */
.alpha-list > li,
.numeric-list > li,
.roman-list > li {
    list-style: none;
    list-style-type: none;
    margin: 0.5em 0;
    position: relative;
    padding-left: 2em;      /* Space for the marker */
    text-indent: -2em;      /* Pull first line back to align marker */
}

/* Nested lists should NOT have hanging indent - they're already indented
   But they still need padding for multi-line content alignment */
.alpha-list li .alpha-list > li,
.alpha-list li .numeric-list > li,
.alpha-list li .roman-list > li,
.numeric-list li .alpha-list > li,
.numeric-list li .numeric-list > li,
.numeric-list li .roman-list > li,
.roman-list li .alpha-list > li,
.roman-list li .numeric-list > li,
.roman-list li .roman-list > li {
    padding-left: 2em;      /* Space for multi-line content alignment */
    text-indent: 0;         /* No negative indent for nested items */
}

/* Extra specificity to override any mdBook defaults */
.content ul.alpha-list,
.content ul.numeric-list,
.content ul.roman-list,
#content ul.alpha-list,
#content ul.numeric-list,
#content ul.roman-list,
.page ul.alpha-list,
.page ul.numeric-list,
.page ul.roman-list {
    list-style: none;
    list-style-type: none;
}

.content ul.alpha-list > li,
.content ul.numeric-list > li,
.content ul.roman-list > li,
#content ul.alpha-list > li,
#content ul.numeric-list > li,
#content ul.roman-list > li,
.page ul.alpha-list > li,
.page ul.numeric-list > li,
.page ul.roman-list > li {
    list-style: none;
    list-style-type: none;
}

/* Remove any pseudo-element bullets */
.alpha-list li::before,
.numeric-list li::before,
.roman-list li::before {
    content: none;
}

/* ========================================
 * NESTED STANDARD LISTS
 * Restore bullets/numbers for standard ol/ul inside manual lists
 * ======================================== */

/* Restore numbered list markers for ordered lists nested in manual notation lists */
.alpha-list ol,
.numeric-list ol,
.roman-list ol {
    list-style: decimal;
    list-style-type: decimal;
    padding-left: 2em;
}

.alpha-list ol li,
.numeric-list ol li,
.roman-list ol li {
    list-style: decimal;
    list-style-type: decimal;
}

/* Restore bullet markers for unordered lists nested in manual notation lists */
.alpha-list ul:not(.alpha-list):not(.numeric-list):not(.roman-list),
.numeric-list ul:not(.alpha-list):not(.numeric-list):not(.roman-list),
.roman-list ul:not(.alpha-list):not(.numeric-list):not(.roman-list) {
    list-style: disc;
    list-style-type: disc;
    padding-left: 2em;
}

.alpha-list ul:not(.alpha-list):not(.numeric-list):not(.roman-list) li,
.numeric-list ul:not(.alpha-list):not(.numeric-list):not(.roman-list) li,
.roman-list ul:not(.alpha-list):not(.numeric-list):not(.roman-list) li {
    list-style: disc;
    list-style-type: disc;
}

/* ========================================
 * LIST MARKERS
 * Styled spans for (a), (1), (i) markers
 * ======================================== */

/* Base marker styling - applies to all manual markers */
.list-marker-alpha,
.list-marker-numeric,
.list-marker-roman {
    color: var(--color-primary, #0969da);
    margin-right: 0.25em;
    display: inline-block;
}

/* Numeric markers */
.list-marker-numeric {
    min-width: 1.5em;
}

/* Alpha markers */
.list-marker-alpha {
    min-width: 1.5em;
}

/* Roman numerals - most are narrow except for larger numbers */
.list-marker-roman {
    min-width: 1.75em;
}

/* ========================================
 * NESTED LISTS
 * Proper indentation for nested structures
 * ======================================== */

/* Nested lists should indent further */
ul ul, ul ol, ol ul, ol ol {
    padding-left: 2em;
    margin-top: 0.5em;
    margin-bottom: 0.5em;
}

/* Nested manual notation lists - ensure proper indentation */
.alpha-list .numeric-list,
.alpha-list .roman-list,
.numeric-list .roman-list,
.alpha-list .setback-list {
    padding-left: 2em;
    margin-left: 0; /* Reset any inherited margin */
}

/* Visual indentation for complex nesting patterns */
/* When numeric items appear in an alpha list (indicates nesting) */
/* Removed margin-left as the li already has padding-left for proper alignment */
/*.alpha-list li .list-marker-numeric {
    margin-left: 2em;
}*/

/* When roman items appear in an alpha/numeric list (double nesting) */
/* Removed margin-left as the li already has padding-left for proper alignment */
/*.alpha-list li .list-marker-roman,
.numeric-list li .list-marker-roman {
    margin-left: 4em;
}*/

/* ========================================
 * SPECIAL CASES
 * Edge cases and document-specific needs
 * ======================================== */

/* Lists inside blockquotes (common in ordinances) */
blockquote ul,
blockquote ol {
    margin-left: 0;
    padding-left: 1.5em;
}

blockquote .alpha-list,
blockquote .numeric-list,
blockquote .roman-list {
    padding-left: 1em;
}

/* Definition-style lists (term followed by description) */
.definition-list {
    list-style: none;
    padding-left: 0;
}

.definition-list li {
    margin: 1em 0;
}

.definition-term {
    font-weight: bold;
    color: var(--color-primary, #0969da);
    display: block;
    margin-bottom: 0.25em;
}

/* ========================================
 * DOCUMENT NOTES LISTS
 * Lists within Document Notes sections
 * ======================================== */

.document-notes ul,
.document-notes ol {
    margin-left: 0;
    padding-left: 1.5em;
}

.document-notes .alpha-list,
.document-notes .numeric-list {
    padding-left: 1em;
}

/* Lists inside note-content should not have extra padding */
.note-content ul.alpha-list,
.note-content ul.numeric-list,
.note-content ul.roman-list {
    padding-left: 0;
    margin-left: 0;
}

/* The list items themselves should have normal spacing */
.note-content .alpha-list li,
.note-content .numeric-list li,
.note-content .roman-list li {
    margin-left: 0;
}

/* ========================================
 * RESPONSIVE ADJUSTMENTS
 * Mobile-friendly list spacing
 * ======================================== */

@media (max-width: 768px) {
    .alpha-list,
    .numeric-list,
    .roman-list {
        padding-left: 1.5em;
    }
    
    ul ul, ul ol, ol ul, ol ol {
        padding-left: 1.5em;
    }
}

/* ========================================
 * LISTS IN TABLES
 * Style list notation within table cells
 * ======================================== */

/* Style parenthetical markers in table cells */
table td {
    /* This would need JavaScript to properly wrap the markers */
    /* For now, we'll note this as a limitation */
}

/* ========================================
 * SETBACK SPECIFICATIONS
 * Special formatting for Section 5.080 setbacks
 * ======================================== */

.setback-specifications {
    margin-top: 0.75em;
    margin-left: 0;
    padding-left: 0;
    border-left: none;
}

.setback-spec {
    margin: 0.5em 0;
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.95em;
    color: #333;
    line-height: 1.4;
}

.setback-spec:first-child {
    margin-top: 0;
}

.setback-spec:last-child {
    margin-bottom: 0;
}

/* ========================================
 * PRINT STYLES
 * Optimized for PDF/print output
 * ======================================== */

@media print {
    /* Ensure markers are visible in print */
    .list-marker-alpha,
    .list-marker-numeric,
    .list-marker-roman {
        color: #000;
        font-weight: bold;
    }
    
    ol li::marker {
        color: #000;
    }
}